<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Zana ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: radial-gradient(circle at bottom, #1b0036, #000);
    color: white;
    text-align: center;
    overflow: hidden;
}

/* Fireworks */
canvas { position: fixed; top: 0; left: 0; z-index: 0; }

/* Floating watermark */
.watermark {
    position: fixed;
    font-size: 14px;
    opacity: 0.6;
    z-index: 3;
    animation: floatWM 18s linear infinite;
}
@keyframes floatWM {
    0% { transform: translate(0,0); }
    25% { transform: translate(80vw,10vh); }
    50% { transform: translate(40vw,70vh); }
    75% { transform: translate(10vw,40vh); }
    100% { transform: translate(0,0); }
}

/* Main card */
.card {
    background: rgba(255,255,255,0.2);
    backdrop-filter: blur(14px);
    border-radius: 24px;
    padding: 40px 30px;
    max-width: 560px;
    margin: 60px auto;
    box-shadow: 0 20px 50px rgba(0,0,0,0.45);
    position: relative;
    z-index: 2;
}

/* Poem + messages */
#poem, #newYearText {
    font-size: 1.5rem;
    line-height: 1.7;
    min-height: 160px;
    color: white;
    text-shadow: 0 0 10px rgba(0,0,0,0.7);
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s, transform 1s;
}
.show { opacity: 1 !important; transform: translateY(0) !important; }

/* Poem GIF */
#gif {
    width: 300px;
    margin: 20px auto;
    opacity: 0;
    transform: scale(0.7);
    transition: opacity 1s, transform 1s;
}
#gif.show { opacity: 1; transform: scale(1); }

/* Floating hearts */
.heart {
    position: fixed;
    bottom: -10px;
    font-size: 22px;
    animation: float 6s linear infinite;
    opacity: 0.85;
    z-index: 1;
}
@keyframes float {
    0% { transform: translateY(0); opacity: 0; }
    10% { opacity: 1; }
    100% { transform: translateY(-110vh); opacity: 0; }
}

/* Poljubac follow */
#fingerKiss {
    position: fixed;
    font-size: 20px;
    pointer-events: none;
    transform: translate(-50%, -50%);
    opacity: 0;
    z-index: 3;
}

/* Big heart */
#bigHeart {
    display: none;
    font-size: 120px;
    cursor: pointer;
    margin-top: 10px;
    animation: pulse 1.5s infinite;
    transition: transform 1.5s ease;
}
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.15); }
    100% { transform: scale(1); }
}
#heartHint { display: none; font-size: 1.1rem; opacity: 0.85; margin-top: 8px; }

/* Replay button */
#replayBtn { display: none; margin-top: 15px; }

/* Volume slider */
#volumeSlider {
    position: fixed;
    bottom: 10px;
    left: 10px;
    width: 120px;
    z-index: 5;
}
</style>
</head>

<body>

<canvas id="fireworks"></canvas>
<div id="fingerKiss">Poljubac üíã</div>
<div class="watermark">Zana ‚ù§Ô∏è Boris</div>

<div class="card">
    <div id="poem"></div>
    <img id="gif">
    <div id="bigHeart">‚ù§Ô∏è</div>
    <div id="heartHint">Click me for a surprise, baby üíñ</div>
    <div id="newYearText"></div>
    <button id="startBtn">Start üíå</button>
    <button id="replayBtn">Replay üîÑ</button>
</div>

<!-- YouTube audio embed (invisible) -->
<div style="display:none;">
    <iframe id="ytplayer" width="0" height="0"
        src="https://www.youtube.com/embed/kvazBqAlx58?start=5&enablejsapi=1&loop=1&playlist=kvazBqAlx58&controls=0&disablekb=1&modestbranding=1"
        frameborder="0" allow="autoplay"></iframe>
</div>

<input type="range" id="volumeSlider" min="0" max="100" value="100">

<script>
// Fireworks animation
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;
setInterval(()=>{
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let i=0;i<80;i++){
        ctx.beginPath();
        ctx.arc(Math.random()*canvas.width, Math.random()*canvas.height/2, 2, 0, Math.PI*2);
        ctx.fillStyle = `hsl(${Math.random()*360},100%,70%)`;
        ctx.fill();
    }
}, 800);

// Floating hearts
setInterval(()=>{
    const h = document.createElement("div");
    h.className="heart";
    h.innerHTML="‚ù§Ô∏è";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),7000);
},260);

// Finger kiss follow
const fingerKiss = document.getElementById("fingerKiss");
document.addEventListener("mousemove", e=>{
    fingerKiss.style.opacity=1;
    fingerKiss.style.left=e.clientX+"px";
    fingerKiss.style.top=e.clientY+"px";
});
document.addEventListener("touchmove", e=>{
    const t=e.touches[0];
    fingerKiss.style.opacity=1;
    fingerKiss.style.left=t.clientX+"px";
    fingerKiss.style.top=t.clientY+"px";
});

// YouTube player API
let YTvolume = 100;
const ytplayer = document.getElementById("ytplayer");

// Poems + GIFs
const poems = [
    `Zana ljubavi moja‚ù§Ô∏è Zahvalan sam za svaki dan i momenat sa tobom üòä`,
    `Because of you, my heart feels lighter üíñ`,
    `Hvala ti ≈°to me ƒçini≈° boljim i srecnijim ü•∞`,
    `You are my peace, my smile, my happiness and my home‚ú®`,
    `Sa tobom je sve lep≈°e, sladje bebo ‚ù§Ô∏è`,
    `I am grateful for you, always and forever üåπ`,
    `Thank you for all the happiness, all the love and all the laughsüòä`
];

const gifs = [
"https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExc29iZ2M5Z3RncmsxMzdqenp2dmtiM2p3a3FoNTB2ZnFob2cyZ2toYSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/1JmGiBtqTuehfYxuy9/giphy.gif",
"https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExd3c0OTQwOG15OW90bGg2dHhzNHp4d3l5eTZrcjF3d2QwZTFiNXN4NiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/QEN54dmAJuTF0wBWXz/giphy.gif",
"https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExYWF6YmVpa3A0YTI2MnpmazEydmN3bjhobTlhaXhwamduaDBlNnpociZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ppVwDRqJbwtnNKEC43/giphy.gif",
"https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExajQzbXA0eGoxdTNqdHhncGVlOWljeWd1cjVqdWtlejVsYXplcG9qciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/0cdbJBHZXG2hm132X2/giphy.gif",
"https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExcHNva29kMWlvdzhiZjlkZGJ3eGh2d2dlMGpkdTNiYmhjMWR6dGlvNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/f8tsej5s20oraBHkks/giphy.gif",
"https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExbTc1MXdwdWJsc3lzMGwxODhrNGMyamN1a2lzbW9tMDZmc3FsMjZpYSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/VJrQgIxar9GwMDztbg/giphy.gif",
"https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExbHpjd2gxeDBvM295djlnYjN4amc4Y3h6dWl2NHh6cm8yYm1uN2lueiZlcD12MV9pbnRlcm5hbF9naWQmY3Q9Zw/tdqsLa4NQQ5yTs9rMp/giphy.gif"
];

const poemDiv = document.getElementById("poem");
const gifImg = document.getElementById("gif");
const bigHeart = document.getElementById("bigHeart");
const heartHint = document.getElementById("heartHint");
const newYearText = document.getElementById("newYearText");
const startBtn = document.getElementById("startBtn");
const replayBtn = document.getElementById("replayBtn");
const volumeSlider = document.getElementById("volumeSlider");

let index=0;

// Start
startBtn.onclick = ()=>{
    startBtn.style.display="none";
    ytplayer.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*'); 
    showPoemGIF(index);
    const interval=setInterval(()=>{
        index++;
        if(index>=poems.length){
            clearInterval(interval);
            poemDiv.style.display="none"; gifImg.style.display="none";
            bigHeart.style.display="block"; heartHint.style.display="block";
            bigHeart.style.transform="scale(0)";
            setTimeout(()=>{ bigHeart.style.transition="transform 2s"; bigHeart.style.transform="scale(1)"; },50);
            return;
        }
        showPoemGIF(index);
    },4800);
};

function showPoemGIF(i){
    poemDiv.textContent=poems[i];
    gifImg.src=gifs[i];
    poemDiv.style.display="block"; gifImg.style.display="block";
    setTimeout(()=>{ poemDiv.classList.add("show"); gifImg.classList.add("show"); },50);
}

// Fade Out audio
function fadeOutYT(duration){
    let vol=100;
    const step=vol/duration*50;
    const fInterval=setInterval(()=>{
        vol-=step;
        if(vol<=0){ clearInterval(fInterval); ytplayer.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}','*'); }
        else ytplayer.contentWindow.postMessage('{"event":"command","func":"setVolume","args":['+vol+']}','*');
    },50);
}

// Final explosion + message
bigHeart.onclick = ()=>{
    bigHeart.style.display="none"; heartHint.style.display="none";

    for(let i=0;i<50;i++){
        const e=document.createElement("div");
        e.className="explosion-heart";
        e.innerHTML="‚ù§Ô∏è";
        e.style.left="50%"; e.style.top="50%";
        e.style.setProperty("--x",(Math.random()*600-300)+"px");
        e.style.setProperty("--y",(Math.random()*600-300)+"px");
        document.body.appendChild(e);
        setTimeout(()=>e.remove(),2000);
    }

    fadeOutYT(5000);

    setTimeout(()=>{
        newYearText.innerHTML = `Happy New Year Baby üéÜ<br>I can‚Äôt wait to explore the future with you ‚ù§Ô∏è`;
        newYearText.classList.add("show");

        // Loving couple New Year GIF
        const finalImg = new Image();
        finalImg.src = "https://media.giphy.com/media/3oEjHP8ELRNNlnlLGM/giphy.gif"; 
        finalImg.style.width="250px"; finalImg.style.margin="20px auto";
        newYearText.appendChild(finalImg);

        replayBtn.style.display="inline-block";
    },1500);
};

// Replay
replayBtn.onclick = ()=>location.reload();

// Volume slider
volumeSlider.oninput = ()=>{
    ytplayer.contentWindow.postMessage('{"event":"command","func":"setVolume","args":['+volumeSlider.value+']}','*');
};
</script>
</body>
</html>
